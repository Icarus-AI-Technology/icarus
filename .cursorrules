# üé® ICARUS v5.0 - OraclusX Design System Rules
# Sistema: ICARUS v5.0 - ERP M√©dico-Hospitalar B2B (OPME)
# Design System: OraclusX DS Library
# Estilo: Neurom√≥rfico Premium 3D
# Acessibilidade: WCAG 2.1 AA
# Vers√£o: 5.0.3
# Data: 2025-11-16

## üéØ AGENTE WEBDESIGN EXPERT - TAREFA PRINCIPAL

**MISS√ÉO:** Implementar formul√°rio de contato funcional seguindo 100% OraclusX DS

### Entreg√°veis:
1. ‚úÖ P√°gina de contato (`/contato`) com formul√°rio completo
2. ‚úÖ Componentes OraclusX DS (Button, Input, Card)
3. ‚úÖ API route `/api/contact` (POST)
4. ‚úÖ Valida√ß√£o com Zod
5. ‚úÖ `pnpm dev` deve subir sem erros
6. ‚úÖ Hard Gate: 0 viola√ß√µes

---

## üé® PALETA DE CORES UNIVERSAL

### Cor Prim√°ria (OBRIGAT√ìRIA)
```css
--primary-color: #6366F1;        /* Indigo m√©dio - TODOS os bot√µes */
--primary-hover: #4F46E5;        /* Indigo escuro (hover) */
--primary-active: #4338CA;       /* Indigo muito escuro (active) */
--primary-light: #818CF8;        /* Indigo claro */
```

### REGRA DE OURO #1: Background Indigo = Texto Branco
```
SE background-color === #6366F1 (indigo)
ENT√ÉO todos os elementos de texto === #FFFFFF (branco)
CONTRASTE: 8.59:1 ‚úÖ WCAG AAA
```

### Modo Claro
```css
--background-primary: #F3F4F6;   /* Cinza claro (fundo principal) */
--background-secondary: #FFFFFF;  /* Branco (cards/containers) */
--surface-raised: #F3F4F6;       /* Superf√≠cie elevada */
--surface-inset: #E5E7EB;        /* Superf√≠cie rebaixada */
--text-primary: #111827;         /* Quase preto (t√≠tulos) */
--text-secondary: #4B5563;       /* Cinza escuro (corpo) */
--text-tertiary: #6B7280;        /* Cinza m√©dio (labels) */
--text-on-primary: #FFFFFF;      /* Texto sobre indigo */
--border-default: #D1D5DB;       /* Cinza m√©dio */
```

### Modo Escuro
```css
--background-primary: #1F2937;   /* Cinza escuro */
--background-secondary: #111827; /* Quase preto */
--text-primary: #F9FAFB;         /* Quase branco */
--text-secondary: #D1D5DB;       /* Cinza claro */
```

### Cores Sem√¢nticas (APENAS para feedbacks)
```css
--success-color: #10B981;        /* Verde esmeralda */
--error-color: #EF4444;          /* Vermelho */
--warning-color: #F59E0B;        /* √Çmbar */
--info-color: #3B82F6;           /* Azul */
```

‚ö†Ô∏è **IMPORTANTE:** Cores sem√¢nticas s√£o SOMENTE para feedbacks. NUNCA usar em bot√µes prim√°rios!

---

## üåü EFEITOS NEUROM√ìRFICOS PREMIUM 3D

### Elevated (Cards e Containers)
```css
.neomorphic-elevated {
  background: var(--surface-raised);
  border-radius: 16px;
  box-shadow: 
    8px 8px 16px var(--shadow-dark),
    -8px -8px 16px var(--shadow-light);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.neomorphic-elevated:hover {
  box-shadow: 
    12px 12px 24px var(--shadow-dark),
    -12px -12px 24px var(--shadow-light);
  transform: translateY(-2px);
}
```

### Inset (Inputs e Campos)
```css
.neomorphic-inset {
  background: var(--surface-inset);
  border-radius: 12px;
  box-shadow: 
    inset 4px 4px 8px var(--shadow-dark),
    inset -4px -4px 8px var(--shadow-light);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.neomorphic-inset:focus-within {
  box-shadow: 
    inset 6px 6px 12px var(--shadow-dark),
    inset -6px -6px 12px var(--shadow-light),
    0 0 0 3px rgba(99, 102, 241, 0.1);
  outline: none;
}
```

### Flat Elevated (Bot√µes)
```css
.neomorphic-button {
  background: var(--primary-color);  /* SEMPRE indigo #6366F1 */
  color: var(--text-on-primary);     /* Texto branco */
  border-radius: 12px;
  padding: 12px 24px;
  box-shadow: 
    6px 6px 12px var(--shadow-dark),
    -6px -6px 12px var(--shadow-light);
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  border: none;
  cursor: pointer;
  font-weight: 600;
}

.neomorphic-button:hover {
  background: var(--primary-hover);
  box-shadow: 
    8px 8px 16px var(--shadow-dark),
    -8px -8px 16px var(--shadow-light);
  transform: translateY(-1px);
}

.neomorphic-button:active {
  background: var(--primary-active);
  box-shadow: 
    3px 3px 6px var(--shadow-dark),
    -3px -3px 6px var(--shadow-light);
  transform: translateY(0);
}

.neomorphic-button:disabled {
  background: var(--background-tertiary);
  color: var(--text-disabled);
  box-shadow: none;
  cursor: not-allowed;
  opacity: 0.6;
}
```

---

## üéØ √çCONES SVG STROKE-ONLY

### Especifica√ß√µes T√©cnicas
```typescript
interface IconSpecification {
  strokeWidth: 2;              // Espessura da linha
  strokeLinecap: "round";      // Pontas arredondadas
  strokeLinejoin: "round";     // Jun√ß√µes arredondadas
  fill: "none";                // SEM preenchimento
  viewBox: "0 0 24 24";        // ViewBox padr√£o 24x24
  size: {
    sm: 16,    // Pequeno
    md: 20,    // M√©dio (padr√£o)
    lg: 24,    // Grande
    xl: 32,    // Extra grande
  };
}
```

### Template de √çcone SVG
```tsx
import React from 'react';

interface IconProps {
  size?: number;
  color?: string;
  className?: string;
}

export const IconTemplate: React.FC<IconProps> = ({ 
  size = 20, 
  color = 'currentColor', 
  className = '' 
}) => {
  return (
    <svg
      width={size}
      height={size}
      viewBox="0 0 24 24"
      fill="none"
      stroke={color}
      strokeWidth={2}
      strokeLinecap="round"
      strokeLinejoin="round"
      className={className}
      aria-hidden="true"
      focusable="false"
    >
      {/* Paths aqui - SEMPRE stroke, NUNCA fill */}
      <path d="M..." />
    </svg>
  );
};
```

### √çcones Essenciais (lucide-react)
- `Home`, `Menu`, `ChevronRight`, `ChevronDown`, `Search`
- `Plus`, `Edit`, `Trash`, `Save`, `Download`
- `CheckCircle`, `AlertCircle`, `XCircle`, `Info`
- `Heart`, `Activity`, `Package`, `Stethoscope`, `Pill`

---

## üß© COMPONENTES ORACLUSX DS

### Button (Bot√£o Principal)
```tsx
import React from 'react';
import { cn } from '@/lib/utils';

interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'primary' | 'secondary' | 'ghost' | 'danger';
  size?: 'sm' | 'md' | 'lg';
  children: React.ReactNode;
}

export const Button: React.FC<ButtonProps> = ({ 
  variant = 'primary', 
  size = 'md', 
  className = '', 
  children, 
  ...props 
}) => {
  const baseClasses = cn(
    'inline-flex items-center justify-center',
    'font-semibold rounded-xl',
    'transition-all duration-200',
    'focus:outline-none focus:ring-4',
    'disabled:opacity-60 disabled:cursor-not-allowed',
  );

  const variantClasses = {
    primary: cn(
      'bg-[#6366F1] text-white',  // SEMPRE indigo
      'hover:bg-[#4F46E5]',
      'active:bg-[#4338CA]',
      'shadow-[6px_6px_12px_var(--shadow-dark),-6px_-6px_12px_var(--shadow-light)]',
      'hover:shadow-[8px_8px_16px_var(--shadow-dark),-8px_-8px_16px_var(--shadow-light)]',
      'focus:ring-indigo-200',
    ),
    secondary: cn(
      'bg-[var(--surface-raised)] text-[var(--text-primary)]',
      'shadow-[4px_4px_8px_var(--shadow-dark),-4px_-4px_8px_var(--shadow-light)]',
      'hover:shadow-[6px_6px_12px_var(--shadow-dark),-6px_-6px_12px_var(--shadow-light)]',
      'focus:ring-gray-200',
    ),
    ghost: cn(
      'bg-transparent text-[var(--text-secondary)]',
      'hover:bg-[var(--background-tertiary)]',
      'focus:ring-gray-200',
    ),
    danger: cn(
      'bg-[#EF4444] text-white',
      'hover:bg-[#DC2626]',
      'active:bg-[#B91C1C]',
      'shadow-[6px_6px_12px_var(--shadow-dark),-6px_-6px_12px_var(--shadow-light)]',
      'focus:ring-red-200',
    ),
  };

  const sizeClasses = {
    sm: 'px-3 py-1.5 text-sm',
    md: 'px-6 py-3',
    lg: 'px-8 py-4 text-lg',
  };

  return (
    <button
      className={cn(
        baseClasses,
        variantClasses[variant],
        sizeClasses[size],
        className
      )}
      {...props}
    >
      {children}
    </button>
  );
};
```

‚ö†Ô∏è **REGRA CR√çTICA:** Variant primary SEMPRE usa #6366F1 (indigo). Hard Gate valida!

### Input (Campo de Entrada)
```tsx
import React from 'react';
import { cn } from '@/lib/utils';

interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {
  label?: string;
  error?: string;
  helperText?: string;
}

export const Input = React.forwardRef<HTMLInputElement, InputProps>(
  ({ label, error, helperText, className = '', ...props }, ref) => {
    return (
      <div className="space-y-2">
        {label && (
          <label className="block text-sm font-medium text-[var(--text-secondary)]">
            {label}
          </label>
        )}
        
        <input
          ref={ref}
          className={cn(
            'w-full px-4 py-3 rounded-xl',
            'bg-[var(--surface-inset)]',
            'text-[var(--text-primary)]',
            'shadow-[inset_4px_4px_8px_var(--shadow-dark),inset_-4px_-4px_8px_var(--shadow-light)]',
            'focus:shadow-[inset_6px_6px_12px_var(--shadow-dark),inset_-6px_-6px_12px_var(--shadow-light),0_0_0_3px_rgba(99,102,241,0.1)]',
            'focus:outline-none',
            'transition-all duration-200',
            'placeholder:text-[var(--text-tertiary)]',
            error && 'border-2 border-[var(--error-color)]',
            className
          )}
          {...props}
        />
        
        {error && (
          <p className="text-sm text-[var(--error-color)] flex items-center gap-1">
            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            {error}
          </p>
        )}
        
        {helperText && !error && (
          <p className="text-sm text-[var(--text-tertiary)]">{helperText}</p>
        )}
      </div>
    );
  }
);

Input.displayName = 'Input';
```

### Card (Container Neurom√≥rfico)
```tsx
import React from 'react';
import { cn } from '@/lib/utils';

interface CardProps extends React.HTMLAttributes<HTMLDivElement> {
  variant?: 'elevated' | 'flat' | 'bordered';
  padding?: 'none' | 'sm' | 'md' | 'lg';
  children: React.ReactNode;
}

export const Card: React.FC<CardProps> = ({ 
  variant = 'elevated', 
  padding = 'md', 
  className = '', 
  children, 
  ...props 
}) => {
  const variantClasses = {
    elevated: cn(
      'bg-[var(--surface-raised)]',
      'shadow-[8px_8px_16px_var(--shadow-dark),-8px_-8px_16px_var(--shadow-light)]',
      'hover:shadow-[12px_12px_24px_var(--shadow-dark),-12px_-12px_24px_var(--shadow-light)]',
      'transition-shadow duration-300',
    ),
    flat: 'bg-[var(--surface-raised)]',
    bordered: cn(
      'bg-[var(--surface-raised)]',
      'border border-[var(--border-default)]',
    ),
  };

  const paddingClasses = {
    none: '',
    sm: 'p-4',
    md: 'p-6',
    lg: 'p-8',
  };

  return (
    <div
      className={cn(
        'rounded-2xl',
        variantClasses[variant],
        paddingClasses[padding],
        className
      )}
      {...props}
    >
      {children}
    </div>
  );
};
```

---

## üìù TIPOGRAFIA E TOKENS

### Escala de Fontes (CSS Variables)
```css
--font-xs: 0.75rem;      /* 12px */
--font-sm: 0.875rem;     /* 14px */
--font-base: 1rem;       /* 16px - padr√£o body */
--font-lg: 1.125rem;     /* 18px */
--font-xl: 1.25rem;      /* 20px */
--font-2xl: 1.5rem;      /* 24px */
--font-3xl: 1.875rem;    /* 30px */
--font-4xl: 2.25rem;     /* 36px */
```

‚ö†Ô∏è **REGRA:** N√ÉO usar classes Tailwind de font-size (text-2xl, etc). Usar CSS variables!

### Pesos de Fonte
```css
--font-normal: 400;
--font-medium: 500;
--font-semibold: 600;
--font-bold: 700;
```

‚ö†Ô∏è **REGRA:** N√ÉO usar classes Tailwind de font-weight (font-bold, etc). Usar CSS variables!

### Border Radius
```css
--radius-sm: 8px;
--radius-md: 12px;
--radius-lg: 16px;
--radius-xl: 20px;
--radius-2xl: 24px;
--radius-full: 9999px;  /* Circular */
```

---

## ‚úÖ REGRAS DE OURO

### SEMPRE FAZER:
1. ‚úÖ Bot√µes prim√°rios: Background #6366F1 (indigo) + texto branco
2. ‚úÖ KPI Cards com indigo: Background #6366F1 + texto branco
3. ‚úÖ √çcones SVG: Stroke-only, sem fill
4. ‚úÖ Componentes: Usar OraclusX DS (@/components/oraclusx-ds)
5. ‚úÖ Tipografia: CSS variables, n√£o Tailwind classes
6. ‚úÖ Neurom√≥rfico: Sombras duplas (clara + escura)
7. ‚úÖ Acessibilidade: WCAG 2.1 AA m√≠nimo
8. ‚úÖ Responsivo: Mobile-first, breakpoints consistentes
9. ‚úÖ Anima√ß√µes: Smooth, dura√ß√£o 200-300ms
10. ‚úÖ Hard Gate: Validar antes de commit

### NUNCA FAZER:
1. ‚ùå Blue em bot√µes: #3B82F6 √© PROIBIDO
2. ‚ùå Classes Tailwind de font: text-2xl, font-bold, etc
3. ‚ùå √çcones com fill: Apenas stroke
4. ‚ùå Background indigo + texto escuro: SEMPRE branco
5. ‚ùå Sombras simples: Sempre usar duplas (neurom√≥rfico)
6. ‚ùå Ignorar Hard Gate: Sempre corrigir viola√ß√µes
7. ‚ùå Hardcoded colors: Usar CSS variables
8. ‚ùå Anima√ß√µes longas: M√°ximo 500ms
9. ‚ùå Criar componentes custom: Usar OraclusX DS
10. ‚ùå Commits sem valida√ß√£o: Rodar Hard Gate antes

---

## üéØ TAREFAS ESPEC√çFICAS

### 1. Criar P√°gina de Contato
**Path:** `src/pages/Contact.tsx`

**Requisitos:**
- Layout com IcarusLayout
- Formul√°rio com campos:
  - Nome (obrigat√≥rio)
  - Email (obrigat√≥rio, valida√ß√£o email)
  - Telefone (opcional, m√°scara brasileira)
  - Mensagem (obrigat√≥ria, textarea)
- Bot√£o "Enviar" (variant="primary", #6366F1)
- Valida√ß√£o com Zod
- Feedback de sucesso/erro com toast

### 2. Criar API Route
**Path:** `src/api/contact.ts` (ou configurar em Vite/Express)

**Requisitos:**
- POST /api/contact
- Validar dados com Zod
- Salvar no Supabase (tabela `contatos`)
- Retornar JSON: `{ success: boolean, message: string }`

### 3. Atualizar Componentes
**Componentes a criar/atualizar:**
- `src/components/ui/Button.tsx` (seguir spec OraclusX)
- `src/components/ui/Input.tsx` (seguir spec OraclusX)
- `src/components/ui/Card.tsx` (seguir spec OraclusX)
- `src/components/ui/Textarea.tsx` (novo, seguir padr√£o Input)

### 4. Valida√ß√£o Hard Gate
**Checklist antes do commit:**
- [ ] Todos os bot√µes prim√°rios usam bg-[#6366F1]
- [ ] KPI Cards com indigo t√™m texto branco
- [ ] Nenhuma classe Tailwind de font-size/weight
- [ ] √çcones s√£o stroke-only
- [ ] Componentes OraclusX DS usados
- [ ] Efeitos neurom√≥rficos aplicados
- [ ] Responsividade testada
- [ ] Acessibilidade validada (a11y)
- [ ] Hard Gate passou (0 viola√ß√µes)
- [ ] ESLint sem erros

### 5. Testar Aplica√ß√£o
```bash
# Deve subir sem erros
pnpm dev

# Acessar
http://localhost:5173/contato

# Testar formul√°rio
- Preencher campos
- Enviar
- Verificar toast de sucesso
- Verificar dados no Supabase
```

---

## üìö REFER√äNCIAS

### Arquivos Principais
- `/src/components/ui/Button.tsx` - Bot√£o OraclusX
- `/src/components/ui/Input.tsx` - Input OraclusX
- `/src/components/ui/Card.tsx` - Card Neurom√≥rfico
- `/src/styles/globals.css` - CSS Variables
- `/src/lib/utils.ts` - Utilit√°rios (cn)

### Documenta√ß√£o
- `.clinerules` - Regras de desenvolvimento
- `README.md` - Setup e guias
- `docs/06-ORACLUSX-DESIGN-SYSTEM.md` - Design System completo

### Cores CSS Variables
```css
:root {
  --primary-color: #6366F1;
  --primary-hover: #4F46E5;
  --primary-active: #4338CA;
  --background-primary: #F3F4F6;
  --background-secondary: #FFFFFF;
  --text-primary: #111827;
  --text-secondary: #4B5563;
  --border-default: #D1D5DB;
  --success-color: #10B981;
  --error-color: #EF4444;
  --shadow-light: rgba(255, 255, 255, 0.8);
  --shadow-dark: rgba(0, 0, 0, 0.15);
}
```

---

## ‚úÖ CERTIFICA√á√ÉO

Este arquivo `.cursorrules` √© OBRIGAT√ìRIO para:
- ‚úÖ Desenvolvimento no ICARUS v5.0
- ‚úÖ Conformidade com OraclusX DS
- ‚úÖ Valida√ß√£o Hard Gate
- ‚úÖ Code review autom√°tico
- ‚úÖ CI/CD pipeline

**Vers√£o:** 5.0.3  
**Data:** 2025-11-16  
**Status:** ‚úÖ ATIVO  
**Certificado por:** OraclusX Design System

---

**üé® Design perfeito, c√≥digo perfeito, resultado perfeito!**

